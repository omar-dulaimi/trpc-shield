#!/bin/sh

# Read the commit message
commit_msg=$(cat "$1")

# Check for "claude" in commit message (case insensitive)
if echo "$commit_msg" | grep -qi "claude"; then
    echo "L Commit blocked: Commit message contains 'claude'"
    echo "Please remove any references to Claude from the commit message."
    exit 1
fi

# Check for "Co-authored-by: Claude" or "Co-Authored-By: Claude" (case insensitive)
if echo "$commit_msg" | grep -qi "co-authored-by:.*claude"; then
    echo "L Commit blocked: Commit contains Claude as co-author"
    echo "Please remove Claude from the co-author list."
    exit 1
fi

# If we get here, the commit is allowed
exit 0